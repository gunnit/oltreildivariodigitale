!function(){"use strict";const e=(new Date).getTime()+864e5,t=5,n=2;function o(){const t=`
            <div id="urgency-banner" class="urgency-banner">
                <div class="urgency-container">
                    <div class="urgency-content">
                        <div class="urgency-icon">âš¡</div>
                        <div class="urgency-message">
                            <strong>OFFERTA LIMITATA!</strong>
                            <span class="urgency-discount">40% di SCONTO</span>
                        </div>
                        <div class="countdown-timer" id="countdown-timer">
                            <div class="time-unit">
                                <span class="time-value" id="hours">23</span>
                                <span class="time-label">ORE</span>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-unit">
                                <span class="time-value" id="minutes">59</span>
                                <span class="time-label">MIN</span>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-unit">
                                <span class="time-value" id="seconds">59</span>
                                <span class="time-label">SEC</span>
                            </div>
                        </div>
                        <div class="stock-counter">
                            <span class="stock-icon">ðŸ“š</span>
                            Solo <span id="stock-count" class="stock-number">5</span> copie rimaste a questo prezzo!
                        </div>
                    </div>
                    <button class="urgency-cta" onclick="window.location.href='https://www.amazon.it/dp/B0FMKGMMKS'">
                        ACQUISTA ORA â†’
                    </button>
                </div>
            </div>
        `;document.body.insertAdjacentHTML("afterbegin",t)}function i(){const t=(new Date).getTime(),n=e-t;if(n<0)return void(document.getElementById("urgency-banner").innerHTML=`
                <div class="urgency-container expired">
                    <div class="urgency-content">
                        <strong>OFFERTA SCADUTA!</strong>
                        <a href="https://www.amazon.it/dp/B0FMKGMMKS" class="expired-link">
                            Acquista al prezzo normale â†’
                        </a>
                    </div>
                </div>
            `);const o=Math.floor(n%864e5/36e5),i=Math.floor(n%36e5/6e4),a=Math.floor(n%6e4/1e3);document.getElementById("hours").textContent=String(o).padStart(2,"0"),document.getElementById("minutes").textContent=String(i).padStart(2,"0"),document.getElementById("seconds").textContent=String(a).padStart(2,"0"),0===o&&i<60&&document.getElementById("countdown-timer").classList.add("urgent")}function a(){let e=localStorage.getItem("bookStock")||t;const o=localStorage.getItem("lastStockUpdate")||Date.now();Date.now()-o>36e5&&e>n&&(e--,localStorage.setItem("bookStock",e),localStorage.setItem("lastStockUpdate",Date.now()));const i=document.getElementById("stock-count");i&&(i.textContent=e,e<=3&&i.classList.add("low-stock"))}function s(){const e=`
            <div id="floating-buy" class="floating-buy-button">
                <span class="floating-price">
                    <del>â‚¬39.99</del>
                    <strong>â‚¬23.99</strong>
                </span>
                <button class="floating-cta" onclick="window.location.href='https://www.amazon.it/dp/B0FMKGMMKS'">
                    ðŸ›’ ACQUISTA ORA
                </button>
            </div>
        `;document.body.insertAdjacentHTML("beforeend",e),window.addEventListener("scroll",(function(){const e=document.getElementById("floating-buy");window.pageYOffset>300?e.classList.add("visible"):e.classList.remove("visible")}))}function c(){const e=["Marco da Milano","Laura da Roma","Giuseppe da Napoli","Anna da Torino","Francesco da Bologna","Chiara da Firenze","Alessandro da Venezia","Sofia da Palermo","Luca da Genova","Giulia da Verona","Matteo da Bari","Sara da Catania"][Math.floor(12*Math.random())],t=Math.floor(30*Math.random())+1,n=`
            <div id="sales-notification" class="sales-notification">
                <div class="notification-content">
                    <img src="/assets/images/bookcover.png" alt="Book" class="notification-book">
                    <div class="notification-text">
                        <strong>${e}</strong> ha appena acquistato il libro
                        <span class="notification-time">${t} minuti fa</span>
                    </div>
                </div>
                <button class="notification-close" onclick="this.parentElement.remove()">Ã—</button>
            </div>
        `,o=document.getElementById("sales-notification");o&&o.remove(),document.body.insertAdjacentHTML("beforeend",n),setTimeout((()=>{const e=document.getElementById("sales-notification");e&&(e.classList.add("hide"),setTimeout((()=>e.remove()),500))}),5e3)}function r(){let e=sessionStorage.getItem("exitIntentShown");e||document.addEventListener("mouseout",(function(t){if(t.clientY<10&&!e){const t=`
                        <div id="exit-popup" class="exit-popup">
                            <div class="exit-popup-overlay"></div>
                            <div class="exit-popup-content">
                                <button class="exit-popup-close" onclick="document.getElementById('exit-popup').remove()">Ã—</button>
                                <h2 class="exit-popup-title">ASPETTA! Non perdere questa opportunitÃ !</h2>
                                <div class="exit-popup-offer">
                                    <div class="exit-discount">
                                        <span class="discount-badge">SCONTO ESCLUSIVO</span>
                                        <span class="discount-amount">50% OFF</span>
                                    </div>
                                    <p class="exit-message">
                                        Usa il codice <strong class="promo-code">NONANDARE50</strong>
                                        per ricevere uno sconto extra del 10%!
                                    </p>
                                    <div class="exit-benefits">
                                        âœ… ROI Calculator Gratuito incluso<br>
                                        âœ… Accesso a 15+ Casi Studio<br>
                                        âœ… Supporto email prioritario<br>
                                        âœ… Garanzia soddisfatti o rimborsati
                                    </div>
                                    <button class="exit-cta" onclick="window.location.href='https://www.amazon.it/dp/B0FMKGMMKS'">
                                        APPLICA SCONTO E ACQUISTA â†’
                                    </button>
                                    <p class="exit-disclaimer">* Offerta valida solo per oggi</p>
                                </div>
                            </div>
                        </div>
                    `;document.body.insertAdjacentHTML("beforeend",t),sessionStorage.setItem("exitIntentShown","true"),e=!0}}))}document.addEventListener("DOMContentLoaded",(function(){o(),s(),r(),setInterval(i,1e3),setInterval(a,6e4),a(),setTimeout((()=>{c(),setInterval(c,45e3)}),1e4)}));const d=`<style>.urgency-banner{position:fixed;top:0;left:0;right:0;background:linear-gradient(135deg,#ff4444 0%,#cc0000 100%);color:#fff;z-index:9999;box-shadow:0 4px 20px rgba(0,0,0,.3);animation:slideDown .5s ease-out}@keyframes slideDown{from{transform:translateY(-100%)}to{transform:translateY(0)}}.urgency-container{display:flex;align-items:center;justify-content:space-between;max-width:1400px;margin:0 auto;padding:10px 20px;flex-wrap:wrap;gap:15px}.urgency-content{display:flex;align-items:center;gap:20px;flex:1}.urgency-icon{font-size:28px;animation:pulse 1s infinite}@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}.urgency-message{display:flex;flex-direction:column}.urgency-discount{background:rgba(255,255,255,.2);padding:2px 8px;border-radius:4px;display:inline-block;margin-top:4px}.countdown-timer{display:flex;align-items:center;gap:5px;font-family:'Courier New',monospace}.countdown-timer.urgent .time-value{color:#ffeb3b;animation:blink 1s infinite}@keyframes blink{0%,100%{opacity:1}50%{opacity:.5}}.time-unit{display:flex;flex-direction:column;align-items:center;background:rgba(0,0,0,.2);padding:5px 10px;border-radius:6px}.time-value{font-size:24px;font-weight:700;line-height:1}.time-label{font-size:10px;opacity:.9;margin-top:2px}.time-separator{font-size:20px;font-weight:700}.stock-counter{display:flex;align-items:center;gap:8px;background:rgba(255,255,255,.2);padding:8px 15px;border-radius:20px;font-weight:600}.stock-number{background:#fff;color:#cc0000;padding:2px 8px;border-radius:4px;font-weight:700}.stock-number.low-stock{animation:shake .5s infinite}@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}.urgency-cta{background:#fff;color:#cc0000;border:none;padding:12px 24px;border-radius:8px;font-weight:700;font-size:16px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px rgba(0,0,0,.2)}.urgency-cta:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.3)}.floating-buy-button{position:fixed;bottom:30px;right:30px;background:linear-gradient(135deg,#FFD700,#FFA500);border-radius:50px;padding:15px 20px;box-shadow:0 10px 40px rgba(0,0,0,.3);z-index:9998;transform:translateY(200px);transition:transform .5s ease;display:flex;align-items:center;gap:15px}.floating-buy-button.visible{transform:translateY(0)}.floating-price{display:flex;flex-direction:column;color:#003366}.floating-price del{font-size:14px;opacity:.7}.floating-price strong{font-size:20px}.floating-cta{background:#003366;color:#fff;border:none;padding:12px 20px;border-radius:25px;font-weight:700;cursor:pointer;transition:all .3s ease}.floating-cta:hover{background:#002244;transform:scale(1.05)}.sales-notification{position:fixed;bottom:30px;left:30px;background:#fff;border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,.2);padding:15px;z-index:9997;max-width:300px;animation:slideIn .5s ease;display:flex;align-items:center;justify-content:space-between}@keyframes slideIn{from{transform:translateX(-400px)}to{transform:translateX(0)}}.sales-notification.hide{animation:slideOut .5s ease}@keyframes slideOut{to{transform:translateX(-400px)}}.notification-content{display:flex;align-items:center;gap:12px}.notification-book{width:40px;height:50px;object-fit:cover;border-radius:4px}.notification-text{display:flex;flex-direction:column;gap:4px}.notification-text strong{color:#003366;font-size:14px}.notification-time{font-size:12px;color:#666}.notification-close{background:0 0;border:none;font-size:20px;color:#999;cursor:pointer;padding:0;margin-left:10px}.exit-popup{position:fixed;top:0;left:0;right:0;bottom:0;z-index:10000;animation:fadeIn .3s ease}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.exit-popup-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8)}.exit-popup-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border-radius:20px;padding:40px;max-width:500px;width:90%;box-shadow:0 20px 60px rgba(0,0,0,.3);text-align:center}.exit-popup-close{position:absolute;top:20px;right:20px;background:0 0;border:none;font-size:30px;color:#999;cursor:pointer}.exit-popup-title{color:#cc0000;font-size:28px;margin-bottom:20px;font-weight:700}.exit-discount{display:flex;flex-direction:column;align-items:center;margin:20px 0}.discount-badge{background:#cc0000;color:#fff;padding:5px 15px;border-radius:20px;font-size:12px;font-weight:700;margin-bottom:10px}.discount-amount{font-size:48px;font-weight:700;color:#FFD700;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.promo-code{background:#f0f0f0;padding:5px 10px;border-radius:4px;font-family:monospace;font-size:18px;color:#cc0000}.exit-benefits{text-align:left;background:#f9f9f9;padding:15px;border-radius:10px;margin:20px 0;line-height:1.8}.exit-cta{background:linear-gradient(135deg,#FFD700,#FFA500);color:#003366;border:none;padding:15px 40px;border-radius:30px;font-size:18px;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 20px rgba(255,215,0,.4)}.exit-cta:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(255,215,0,.5)}.exit-disclaimer{font-size:12px;color:#999;margin-top:15px}@media (max-width:768px){.urgency-container{flex-direction:column;text-align:center}.urgency-content{flex-direction:column}.time-value{font-size:18px}.floating-buy-button{bottom:20px;right:20px;left:20px;border-radius:30px}.sales-notification{left:10px;right:10px;max-width:none}.exit-popup-content{padding:25px}.exit-popup-title{font-size:22px}.discount-amount{font-size:36px}}</style>`;document.head.insertAdjacentHTML("beforeend",d)}();